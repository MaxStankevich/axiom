{"version":3,"sources":["config/authSlice.js","hooks/useAuth.js","pages/admin/components/header/Header.js","components/status-tag/StatusTag.js","utils/request.js","utils/user.js","components/delete-action/DeleteAction.js","pages/admin/components/orders/list/List.js","utils/order.js","pages/admin/components/orders/Orders.js","constants.js","pages/admin/components/users/Users.js","components/user-form/UserForm.js","pages/admin/components/profile/Profile.js","components/spinner/Spinner.js","pages/admin/components/users/edit/Edit.js","pages/admin/components/users/create/Create.js","config/formLayout.js","pages/admin/components/orders/form/components/products/Products.js","pages/admin/components/orders/form/components/customer-fields/CustomerFields.js","pages/admin/components/orders/form/components/order-fields/OrderFields.js","pages/admin/components/orders/form/Form.js","pages/admin/components/orders/create/Create.js","pages/admin/components/orders/edit/Edit.js","pages/admin/components/orders/show/Show.js","pages/admin/components/customers/Customers.js","pages/admin/components/customers/show/Show.js","pages/admin/components/customers/form/Form.js","pages/admin/components/customers/edit/Edit.js","pages/admin/components/customers/create/Create.js","pages/admin/components/products/Products.js","pages/admin/components/products/form/Form.js","pages/admin/components/products/create/Create.js","pages/admin/components/products/edit/Edit.js","pages/admin/Admin.js","pages/login/Login.js","pages/order-form/OrderForm.js","App.js","config/store.js","reportWebVitals.js","index.js"],"names":["authSlice","createSlice","name","initialState","user","reducers","setUser","state","action","payload","actions","selectUser","auth","useAuth","dispatch","useDispatch","userFromRedux","useSelector","useMemo","JSON","parse","localStorage","getItem","isAdmin","role","updateUser","useCallback","data","newUser","setItem","stringify","Header","Layout","AdminHeader","history","useHistory","className","type","icon","LogoutOutlined","onClick","removeItem","push","COLORS","1","2","3","4","5","StatusTag","id","color","request","axios","create","baseURL","interceptors","use","config","token","headers","error","Promise","reject","response","status","notification","message","DeleteAction","onSuccess","url","successMessage","errorMessage","useState","deleteConfirmVisible","setDeleteConfirmVisible","deleteConfirmLoading","setDeleteConfirmLoading","title","placement","visible","onConfirm","delete","then","success","catch","err","console","finally","okText","cancelText","okButtonProps","loading","danger","onCancel","size","OrdersList","orders","showCustomer","fetchOrders","columns","dataIndex","render","createdAt","moment","format","customer","to","organizationName","products","length","map","product","order_product","quantity","fullName","username","key","text","record","dataSource","rowKey","pagination","setOrdersParams","Orders","setLoading","setOrder","value","page","filter","order","getOrdersParams","params","setParams","statuses","setStatuses","statusesLoading","setStatusesLoading","users","setUsers","usersLoading","setUsersLoading","updateParams","prevParams","updateFilter","get","res","useEffect","style","width","allowClear","onChange","defaultValue","Option","placeholder","orderStatusId","userId","total","totalItems","current","defaultPageSize","USER_ROLES","admin","manager","Users","fetchUsers","Select","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","UserForm","Form","useForm","form","showPasswordFields","setShowPasswordFields","isEdit","onFinish","values","userData","email","password","roleId","Number","put","post","initialValues","String","scrollToFirstError","Item","label","QuestionCircleOutlined","rules","required","whitespace","val","hasFeedback","Password","autoComplete","dependencies","getFieldValue","validator","rule","resolve","htmlType","Profile","Spinner","props","EditUser","useParams","log","CreateUser","OrderForm","setProducts","productsLoading","setProductsLoading","List","fields","add","remove","field","gutter","align","noStyle","shouldUpdate","selectedIds","fieldKey","disabled","item","includes","min","DeleteTwoTone","PlusOutlined","CustomerFields","len","OrderFields","validatePhone","addonBefore","customers","setCustomers","customersLoading","setCustomersLoading","customerRadio","setCustomerRadio","fetchCustomers","searchTerm","search","initialProducts","layout","errors","productsIds","pr","deletedProducts","reduce","result","_destroy","concat","join","deliveryMethodId","deliveryAddress","contactNumber","contactName","contactSurname","contactPatronymic","notes","maxWidth","margin","marginBottom","TextArea","setFieldsValue","Group","e","target","showSearch","notFoundContent","onSearch","debounce","filterOption","address","CreateOrder","EditOrder","ShowOrder","bordered","extra","deliveryMethod","orderStatus","bankName","bankAccountNumber","payerAccountNumber","Customers","ShowCustomer","setCustomer","fetchCustomer","CustomerForm","EditCustomer","CreateCustomer","Products","fetchProducts","ProductForm","description","CreateProduct","EditProduct","setProduct","Content","Sider","routes","path","component","Show","Create","Edit","Admin","location","useLocation","selectedMenuItem","pathname","match","breakpoint","collapsedWidth","theme","mode","selectedKeys","MailOutlined","TeamOutlined","IdcardFilled","DatabaseOutlined","UserOutlined","padding","route","exact","Login","remember","accessToken","prefix","LockOutlined","setSuccess","paddingBottom","locale","App","userFromStorage","configureStore","reducer","authReducer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","store","document","getElementById"],"mappings":"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","file":"static/js/main.2403ae57.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: null,\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload;\n    },\n  },\n});\n\nexport const { setUser } = authSlice.actions;\n\nexport const selectUser = state => state.auth.user;\n\nexport default authSlice.reducer;\n","import { useCallback, useMemo } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectUser, setUser } from \"../config/authSlice\";\n\nconst useAuth = () => {\n  const dispatch = useDispatch();\n  const userFromRedux = useSelector(selectUser);\n\n  const user = useMemo(() => {\n    return userFromRedux || JSON.parse(localStorage.getItem(\"user\")) || {}\n  }, [userFromRedux]);\n\n  const isAdmin = useMemo(() => {\n    return user && user.role && user.role.name === \"admin\"\n  }, [user]);\n\n  const updateUser = useCallback((data) => {\n    const newUser = { ...user, ...data };\n\n    dispatch(setUser(newUser));\n    localStorage.setItem(\"user\", JSON.stringify(newUser));\n  }, [user, dispatch])\n\n  return [user, updateUser, isAdmin];\n}\n\nexport default useAuth;","import React from 'react';\nimport { Layout, Button } from 'antd';\nimport { LogoutOutlined } from '@ant-design/icons';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { setUser } from \"../../../../config/authSlice\";\n\nconst { Header } = Layout;\n\nconst AdminHeader = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const logout = () => {\n    dispatch(setUser(null));\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"token\");\n    history.push(\"/\");\n  }\n\n  return (\n    <Header className=\"site-layout-sub-header-background\">\n      <Button type=\"primary\"\n              icon={<LogoutOutlined/>} onClick={logout}>Выйти</Button>\n    </Header>\n  )\n}\n\nexport default AdminHeader;","import React from \"react\";\nimport { Tag } from 'antd';\n\nconst COLORS = {\n  1: \"orange\",\n  2: \"geekblue\",\n  3: \"blue\",\n  4: \"cyan\",\n  5: \"green\"\n}\n\nconst StatusTag = ({ id, name }) => (\n  <Tag color={COLORS[id]}>{name}</Tag>\n)\n\nexport default StatusTag","import axios from \"axios\";\nimport { notification } from \"antd\";\nimport { getUserToken } from \"./user\";\n\nconst request = axios.create({\n  baseURL: \"/api/\",\n});\n\nrequest.interceptors.request.use(function (config) {\n  const token = getUserToken();\n  if (token) {\n    config.headers[\"x-access-token\"] = token;\n  }\n  // Do something before request is sent\n  return config;\n}, function (error) {\n  // Do something with request error\n  return Promise.reject(error);\n});\n\nrequest.interceptors.response.use(\n  response => {\n    return response;\n  },\n  function(error) {\n    // Do something with response error\n    if (error.response.status === 401) {\n      notification.error({ message: error.response.data.message || \"Ошибка авторизации!\" });\n    }\n    return Promise.reject(error.response);\n  }\n);\n\nexport  default request;","export const getUserToken = () => localStorage.getItem(\"token\")","import React, { useState } from 'react';\nimport { Button, Popconfirm, notification } from 'antd';\nimport request from \"../../utils/request\";\n\nconst DeleteAction = ({ onSuccess = () => {}, url, successMessage, errorMessage }) => {\n  const [deleteConfirmVisible, setDeleteConfirmVisible] = useState(false);\n  const [deleteConfirmLoading, setDeleteConfirmLoading] = useState(false);\n\n  return (\n    <Popconfirm\n      title=\"Вы действительно хотите удалить?\"\n      placement=\"topRight\"\n      visible={deleteConfirmVisible}\n      onConfirm={() => {\n        setDeleteConfirmLoading(true);\n        request.delete(url).then(() => {\n          notification.success({ message: successMessage })\n          onSuccess();\n        }).catch(err => {\n          notification.error({ message: errorMessage });\n          console.error(err);\n        }).finally(() => {\n          setDeleteConfirmLoading(false);\n          setDeleteConfirmVisible(false);\n        })\n      }}\n      okText=\"Удалить\"\n      cancelText=\"Отмена\"\n      okButtonProps={{ loading: deleteConfirmLoading, danger: true }}\n      onCancel={() => {\n        setDeleteConfirmVisible(false);\n      }}\n    >\n      <Button\n        size=\"small\"\n        danger\n        onClick={() => {\n          setDeleteConfirmVisible(true);\n        }}\n      >Удалить</Button>\n    </Popconfirm>\n  )\n};\n\nexport default DeleteAction","import React, { Fragment } from 'react';\nimport { Table, Space, Button } from 'antd';\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport StatusTag from \"../../../../../components/status-tag/StatusTag\";\nimport DeleteAction from \"../../../../../components/delete-action/DeleteAction\";\n\n\nconst OrdersList = ({ orders, loading, showCustomer = true, fetchOrders }) => {\n  const columns = [\n    {\n      title: 'Дата регистрации',\n      dataIndex: 'createdAt',\n      render: createdAt => (\n        moment(createdAt).format('D MMMM YYYY, HH:mm')\n      ),\n    },\n    ...(showCustomer ? [{\n      title: 'Заказчик',\n      dataIndex: \"customer\",\n      render: customer =>\n        <Link to={`/customers/${customer.id}`}>\n          {customer.organizationName}\n        </Link>\n    }] : []),\n    {\n      title: 'Предмет заказа',\n      dataIndex: \"products\",\n      render: products => (\n        products && !!products.length && products.map(product => (\n          <Fragment key={product.id}>\n            {product.name} ({product.order_product.quantity} шт)\n            <br/>\n          </Fragment>\n        ))\n      ),\n    },\n    {\n      title: 'Статус',\n      dataIndex: \"orderStatus\",\n      render: status => (\n        <StatusTag id={status.id} name={status.name}/>\n      ),\n    },\n    {\n      title: 'Ответственный',\n      dataIndex: \"user\",\n      render: user => (\n        user && `${user.fullName || \"\"}, ${user.username}`\n      ),\n    },\n    {\n      title: '',\n      key: 'action',\n      render: (text, record) => (\n        <Space size=\"middle\">\n          <DeleteAction\n            url={`/orders/${record.id}`}\n            onSuccess={fetchOrders}\n            successMessage=\"Заказ был успешно удалён\"\n            errorMessage=\"Не удалось удалить заказ\"\n          />\n          <Link to={`/orders/${record.id}/edit`}><Button\n            size=\"small\">Редактировать</Button></Link>\n          <Link to={`/orders/${record.id}`}><Button\n            size=\"small\">Детали</Button></Link>\n        </Space>\n      ),\n    },\n  ];\n\n  return (\n    <Table columns={columns} dataSource={orders} rowKey=\"id\" loading={loading} pagination={false}/>\n  )\n}\n\n\nexport default OrdersList","export const getOrdersParams = () => {\n  const value = localStorage.getItem(\"ordersParams\");\n  return value ? JSON.parse(value) : { page: 1, size: 10, filter: {}, order: '[[\"createdAt\", \"DESC\"]]' };\n}\n\nexport const setOrdersParams = (data) => {\n  localStorage.setItem(\"ordersParams\", JSON.stringify(data))\n}","import React, { useCallback, useEffect, useState } from 'react';\nimport { Button, notification, Pagination, Select } from 'antd';\nimport { Link } from \"react-router-dom\";\nimport OrdersList from \"./list/List\";\nimport request from \"../../../../utils/request\";\nimport { getOrdersParams, setOrdersParams } from \"../../../../utils/order\";\n\nconst Orders = () => {\n  const [loading, setLoading] = useState(false);\n  const [orders, setOrder] = useState([]);\n  const [params, setParams] = useState(getOrdersParams());\n\n  const [statuses, setStatuses] = useState([]);\n  const [statusesLoading, setStatusesLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [usersLoading, setUsersLoading] = useState(false);\n\n  const updateParams = (data) => {\n    setOrdersParams({ ...params, ...data });\n    setParams(prevParams => ({ ...prevParams, ...data }));\n  }\n\n  const updateFilter = (data) => {\n    setOrdersParams({ ...params, page: 1, size: 10, filter: { ...params.filter, ...data } });\n    setParams(prevParams => ({ ...prevParams, page: 1, size: 10, filter: { ...prevParams.filter, ...data } }));\n  }\n\n  const fetchOrders = useCallback(() => {\n    setLoading(true);\n    request.get(\"/orders\", { params }).then(res => {\n      setOrder(res.data);\n    }).catch(() => {\n    }).finally(() => {\n      setLoading(false);\n    })\n  }, [setLoading, setOrder, params])\n\n  useEffect(() => {\n    fetchOrders();\n  }, [fetchOrders])\n\n  useEffect(() => {\n    setStatusesLoading(true);\n    request.get(\"/order_statuses\").then(res => {\n      setStatuses(res.data);\n    }).catch(() => {\n      notification.error({ message: \"Не удалось загрузить статусы\" })\n    }).finally(() => {\n      setStatusesLoading(false);\n    })\n\n    setUsersLoading(true);\n    request.get(\"/users\").then(res => {\n      setUsers(res.data);\n    }).catch(() => {\n      notification.error({ message: \"Не удалось загрузить юзеров\" })\n    }).finally(() => {\n      setUsersLoading(false);\n    })\n  }, [])\n\n  return (\n    <>\n      <div className=\"table-controls\">\n        <Link to=\"/orders/new\">\n          <Button className=\"green-button\" type=\"primary\">Создать</Button>\n        </Link>\n      </div>\n      <div className=\"table-filters\">\n        Сортировать:\n        <Select\n          style={{ width: 300 }}\n          allowClear\n          loading={usersLoading}\n          value={params.order}\n          onChange={value => updateParams({ order: value })}\n          defaultValue={'[[\"createdAt\", \"DESC\"]]'}\n        >\n          <Select.Option value={'[[\"createdAt\", \"DESC\"]]'}>по дате (сначала новые)</Select.Option>\n          <Select.Option value={'[[\"createdAt\", \"ASC\"]]'}>по дате (сначала старые)</Select.Option>\n        </Select>{\" \"}\n        <Select\n          placeholder=\"Статус\"\n          style={{ width: 300 }}\n          allowClear\n          loading={statusesLoading}\n          value={params.filter.orderStatusId}\n          onChange={value => updateFilter({ orderStatusId: value })}\n        >\n          {statuses.map(status => (\n            <Select.Option key={status.id} value={status.id}>{status.name}</Select.Option>\n          ))}\n        </Select>{\" \"}\n        <Select\n          placeholder=\"Ответственный\"\n          style={{ width: 300 }}\n          allowClear\n          value={params.filter.userId}\n          loading={usersLoading}\n          onChange={value => updateFilter({ userId: value })}\n        >\n          {users.map(user => (\n            <Select.Option key={user.id} value={user.id}>{user.fullName}, {user.username}</Select.Option>\n          ))}\n          <Select.Option value={null}>Никто</Select.Option>\n        </Select>\n      </div>\n      <OrdersList orders={orders.data} loading={loading} fetchOrders={fetchOrders}/>\n      <div className=\"pagination\">\n        <Pagination\n          total={orders.totalItems}\n          current={params.page}\n          defaultPageSize={params.size}\n          onChange={page => {\n            updateParams({ page });\n          }}\n        />\n      </div>\n    </>\n  )\n}\n\n\nexport default Orders","export const USER_ROLES = {\n  admin: \"Администратор\",\n  manager: \"Менеджер\"\n}","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Table, Tag, Space, Button } from 'antd';\nimport { Link } from 'react-router-dom';\nimport request from \"../../../../utils/request\";\nimport { selectUser } from \"../../../../config/authSlice\";\nimport \"./Users.css\";\nimport { USER_ROLES } from \"../../../../constants\";\nimport DeleteAction from \"../../../../components/delete-action/DeleteAction\";\n\nconst Users = () => {\n  const [loading, setLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  const user = useSelector(selectUser);\n\n  const fetchUsers = useCallback(() => {\n    setLoading(true);\n    request.get(\"/users\").then(res => {\n      setUsers(res.data);\n    }).catch(err => {\n    }).finally(() => {\n      setLoading(false);\n    })\n  }, [setLoading, setUsers])\n\n  const columns = useMemo(() => [\n    {\n      title: 'Имя пользователя',\n      dataIndex: 'username',\n      key: 'username',\n    },\n    {\n      title: 'ФИО',\n      dataIndex: 'fullName',\n      key: 'fullName',\n    },\n    {\n      title: 'Email',\n      dataIndex: 'email',\n      key: 'email',\n    },\n    {\n      title: 'Роль',\n      dataIndex: ['role', 'name'],\n      key: 'role',\n      render: role => (\n        <Tag color={role === \"admin\" ? 'geekblue' : 'green'}>\n          {USER_ROLES[role]}\n        </Tag>\n      ),\n    },\n    {\n      title: '',\n      key: 'action',\n      render: (text, record) => (\n        <Space size=\"middle\">\n          <Link to={record.id === user.id ? \"/profile\" : `/users/${record.id}`}><Button\n            size=\"small\">Редактировать</Button></Link>\n          {record.id !== user.id &&\n            <DeleteAction\n              url={`/users/${record.id}`}\n              onSuccess={fetchUsers}\n              successMessage={`Пользователь ${record.username} был успешно удалён`}\n              errorMessage={\"Не удалось удалить пользователя\"}\n            />\n          }\n        </Space>\n      ),\n    },\n  ], [user, fetchUsers]);\n\n  useEffect(() => {\n    fetchUsers();\n  }, [fetchUsers])\n\n  return (\n    <>\n      <div className=\"table-controls\">\n        <Link to=\"/users/new\">\n          <Button className=\"green-button\" type=\"primary\">Добавить</Button>\n        </Link>\n      </div>\n      <Table columns={columns} dataSource={users} rowKey=\"id\" loading={loading}/>\n    </>\n  )\n};\n\nexport default Users","import React, { useState } from 'react';\nimport {\n  Form,\n  Input,\n  Tooltip,\n  Select,\n  Button,\n  notification\n} from 'antd';\nimport { QuestionCircleOutlined } from '@ant-design/icons';\nimport request from \"../../utils/request\";\nimport useAuth from \"../../hooks/useAuth\";\n\nconst { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 16,\n    },\n    sm: {\n      span: 8,\n    },\n  },\n  wrapperCol: {\n    xs: {\n      span: 16,\n    },\n    sm: {\n      span: 8,\n    },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nconst UserForm = ({ user = {}, onSuccess }) => {\n  const [form] = Form.useForm();\n  const [, , isAdmin] = useAuth();\n  const [loading, setLoading] = useState(false);\n\n  const [showPasswordFields, setShowPasswordFields] = useState(false);\n\n  const isEdit = !!(user.id);\n\n  const onFinish = (values) => {\n    setLoading(true);\n    const userData = {\n      username: values.username,\n      email: values.email,\n      fullName: values.fullName,\n    };\n\n    if (isEdit && showPasswordFields) {\n      userData.password = values.password\n    }\n\n    if (values.roleId) {\n      userData.roleId = Number(values.roleId);\n    }\n\n    (isEdit ? request.put(`/users/${user.id}`, userData) : request.post(\"/auth/signup\", {\n      ...userData,\n      password: values.password\n    }))\n      .then(\n        (response) => {\n          notification.success({\n            message: isEdit ?\n              `Данные пользователя ${response.data.username} были успешно обновлены` :\n              `Регистрация пользователя ${response.data.username} прошла успешно`\n          })\n          if (onSuccess) {\n            onSuccess(response.data);\n          }\n        },\n        () => {\n          notification.error({ message: \"Не удалось обновить данные пользователя\" });\n        }\n      ).finally(() => {\n      setLoading(false);\n    })\n  };\n\n  return (\n    <>\n      <Form\n        {...formItemLayout}\n        form={form}\n        name=\"user\"\n        onFinish={onFinish}\n        initialValues={isEdit ? {\n          ...user,\n          roleId: String(user.role.id)\n        } : { roleId: \"2\" }}\n        scrollToFirstError\n      >\n        <Form.Item\n          name=\"username\"\n          label={\n            <span>\n            Логин&nbsp;\n              <Tooltip title=\"Логин необходимый для входа\">\n              <QuestionCircleOutlined/>\n            </Tooltip>\n          </span>\n          }\n          rules={[\n            {\n              required: true,\n              message: 'Введите логин',\n              whitespace: true,\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          name=\"email\"\n          label=\"E-mail\"\n          rules={[\n            {\n              type: 'email',\n              message: 'Неправильный E-mail',\n            },\n            {\n              required: true,\n              message: 'Ведите E-mail',\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          name=\"fullName\"\n          label=\"ФИО\"\n          rules={[\n            {\n              required: true,\n              message: 'Введите ФИО',\n              whitespace: true,\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        {isAdmin &&\n        <Form.Item\n          name=\"roleId\"\n          label=\"Роль\"\n          rules={[\n            {\n              required: true,\n              message: 'Выберите роль!',\n            },\n          ]}\n        >\n          <Select>\n            <Option value=\"1\">Администратор</Option>\n            <Option value=\"2\">Менеджер</Option>\n          </Select>\n        </Form.Item>\n        }\n        {isEdit &&\n        <Form.Item {...tailFormItemLayout}>\n          <Button onClick={() => {\n            setShowPasswordFields(val => !val)\n          }}>\n            {showPasswordFields ? \"Отмена\" : \"Сменить пароль\"}\n          </Button>\n        </Form.Item>\n        }\n        {(!isEdit || showPasswordFields) &&\n        <>\n          <Form.Item\n            name=\"password\"\n            label=\"Пароль\"\n            rules={[\n              {\n                required: true,\n                message: 'Введите пароль',\n              },\n            ]}\n            hasFeedback\n          >\n            <Input.Password autoComplete=\"new-password\"/>\n          </Form.Item>\n          <Form.Item\n            name=\"confirm\"\n            label=\"Подтверждение пароля\"\n            dependencies={['password']}\n            hasFeedback\n            rules={[\n              {\n                required: true,\n                message: 'Подтвердите пароль',\n              },\n              ({ getFieldValue }) => ({\n                validator(rule, value) {\n                  if (!value || getFieldValue('password') === value) {\n                    return Promise.resolve();\n                  }\n\n                  return Promise.reject('Пароль должен совпадать');\n                },\n              }),\n            ]}\n          >\n            <Input.Password/>\n          </Form.Item>\n        </>\n        }\n        <Form.Item {...tailFormItemLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n            {isEdit ? \"Сохранить\" : \"Создать\"}\n          </Button>\n        </Form.Item>\n      </Form>\n    </>\n  );\n};\n\nexport default UserForm;","import React from \"react\";\nimport UserForm from \"../../../../components/user-form/UserForm\";\nimport useAuth from \"../../../../hooks/useAuth\";\n\nconst Profile = () => {\n  const [user, updateUser] = useAuth();\n\n  return (\n    <UserForm\n      user={user}\n      onSuccess={res => {\n        updateUser(res);\n      }}\n    />\n  )\n}\n\nexport default Profile;","import React from \"react\";\nimport { Spin } from 'antd';\nimport './Spinner.css';\n\nconst Spinner = (props) => (\n  <div className=\"spinner\">\n    <Spin {...props} />\n  </div>\n)\n\nexport default Spinner","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport UserForm from \"../../../../../components/user-form/UserForm\";\nimport request from \"../../../../../utils/request\";\nimport Spinner from \"../../../../../components/spinner/Spinner\";\n\nconst EditUser = () => {\n  const [user, setUser] = useState();\n  const { id } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    request.get(`/users/${id}`).then(res => {\n      setUser(res.data);\n    }).catch(err => {\n      console.log(err);\n    })\n  }, [setUser, id])\n\n  return (\n    user ?\n      <UserForm\n        user={user}\n        onSuccess={() => {\n          history.push(\"/users\");\n        }}\n      /> : <Spinner size=\"large\" />\n  )\n}\n\nexport default EditUser;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport UserForm from \"../../../../../components/user-form/UserForm\";\n\nconst CreateUser = () => {\n  const history = useHistory();\n\n  return (\n    <UserForm\n      onSuccess={() => {\n        history.push(\"/users\");\n      }}\n    />\n  )\n}\n\nexport default CreateUser;","export const formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 16,\n    },\n    sm: {\n      span: 8,\n    },\n  },\n  wrapperCol: {\n    xs: {\n      span: 16,\n    },\n    sm: {\n      span: 8,\n    },\n  },\n};\nexport const tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n","import React, { useState, useEffect } from 'react';\nimport {\n  Form,\n  Select,\n  Button,\n  Row,\n  Col,\n  InputNumber,\n  notification\n} from 'antd';\nimport { PlusOutlined, DeleteTwoTone } from '@ant-design/icons';\nimport request from \"../../../../../../../utils/request\";\nimport { tailFormItemLayout } from \"../../../../../../../config/formLayout\";\n\nconst { Option } = Select;\n\nconst OrderForm = ({ form }) => {\n  const [products, setProducts] = useState([]);\n  const [productsLoading, setProductsLoading] = useState(false);\n\n  useEffect(() => {\n    setProductsLoading(true);\n    request.get(\"/products\").then(res => {\n      setProducts(res.data);\n    }).catch(() => {\n      notification.error({ message: \"Не удалось загрузить заказчиков\" })\n    }).finally(() => {\n      setProductsLoading(false);\n    })\n  }, [setProducts, setProductsLoading])\n\n  return (\n    <Form.List name=\"products\">\n      {(fields, { add, remove }) => {\n        return (\n          <>\n            {fields.map(field => (\n              <Row gutter={24} align=\"middle\" key={field.key}>\n                <Col xs={16}>\n                  <Form.Item\n                    noStyle\n                    shouldUpdate\n                  >\n                    {() => {\n                      const values = form.getFieldValue(\"products\") || [];\n                      const selectedIds = values.filter(val => val && val.id).map(val => val.id);\n                      return (\n                        <Form.Item\n                          {...field}\n                          label=\"Товар\"\n                          name={[field.name, 'id']}\n                          fieldKey={[field.fieldKey, 'id']}\n                          rules={[{ required: true, message: 'Выберите товар' }]}\n                        >\n                          <Select disabled={productsLoading}>\n                            {products.map(item => (\n                              <Option disabled={selectedIds.includes(item.id)} key={item.id} value={item.id}>\n                                {item.name}\n                              </Option>\n                            ))}\n                          </Select>\n                        </Form.Item>\n                      )\n                    }}\n                  </Form.Item>\n                </Col>\n                <Col xs={5}>\n                  <Form.Item\n                    {...field}\n                    label=\"Количество\"\n                    name={[field.name, 'quantity']}\n                    fieldKey={[field.fieldKey, 'quantity']}\n                    rules={[\n                      {\n                        required: true, message: 'Введите количество',\n                        type: 'number',\n                        min: 1,\n                      },\n                    ]}\n                  >\n                    <InputNumber/>\n                  </Form.Item>\n                </Col>\n                <Col xs={1}>\n                  <DeleteTwoTone onClick={() => remove(field.name)}/>\n                </Col>\n              </Row>\n            ))}\n\n            {fields.length < products.length &&\n            <Form.Item {...tailFormItemLayout}>\n              <Button type=\"dashed\" onClick={() => add()} icon={<PlusOutlined/>}>\n                Добавить товар\n              </Button>\n            </Form.Item>\n            }\n          </>\n        )\n      }}\n    </Form.List>\n  );\n};\n\nexport default OrderForm;","import React from 'react';\nimport {\n  Form,\n  Input,\n} from 'antd';\n\nconst CustomerFields = () => {\n  return (\n    <>\n      <Form.Item\n        name={[\"customer\", \"email\"]}\n        label=\"Email\"\n        rules={[\n          {\n            type: 'email',\n            message: 'Неправильный E-mail',\n          },\n          {\n            required: true,\n            message: 'Ведите E-mail',\n            whitespace: true,\n          },\n        ]}\n      >\n        <Input/>\n      </Form.Item>\n      <Form.Item\n        name={[\"customer\", \"organizationName\"]}\n        label=\"Название организации\"\n        rules={[\n          {\n            required: true,\n            message: 'Ведите название организации',\n            whitespace: true,\n          },\n        ]}\n      >\n        <Input/>\n      </Form.Item>\n      <Form.Item\n        name={[\"customer\", \"address\"]}\n        label=\"Юридический адрес\"\n        rules={[\n          {\n            required: true,\n            message: 'Ведите юридический адрес',\n            whitespace: true,\n          },\n        ]}\n      >\n        <Input/>\n      </Form.Item>\n      <Form.Item\n        name={[\"customer\", \"bankAccountNumber\"]}\n        label=\"Номер банковского счёта\"\n        rules={[\n          {\n            required: true,\n            message: 'Ведите номер банковского счёта',\n            whitespace: true,\n          },\n        ]}\n      >\n        <Input/>\n      </Form.Item>\n      <Form.Item\n        name={[\"customer\", \"bankName\"]}\n        label=\"Название банка\"\n        rules={[\n          {\n            required: true,\n            message: 'Ведите название банка',\n            whitespace: true,\n          },\n        ]}\n      >\n        <Input/>\n      </Form.Item>\n      <Form.Item\n        name={[\"customer\", \"payerAccountNumber\"]}\n        label=\"УНП\"\n        rules={[\n          {\n            required: true,\n            message: 'Ведите УНП (9 цифр)',\n            whitespace: true,\n            len: 9\n          },\n        ]}\n      >\n        <Input/>\n      </Form.Item>\n    </>\n  );\n};\n\nexport default CustomerFields;","import React from 'react';\nimport {\n  Form,\n  Input,\n  Select,\n} from 'antd';\n\nconst OrderFields = ({ form, validatePhone }) => {\n  return (\n    <>\n      <Form.Item\n        name=\"deliveryMethodId\"\n        label=\"Способ доставки\"\n      >\n        <Select>\n          <Select.Option value={1}>Самовывоз</Select.Option>\n          <Select.Option value={2}>Курьер (Autolight Express)</Select.Option>\n        </Select>\n      </Form.Item>\n      <Form.Item shouldUpdate noStyle>\n        {() => {\n          return form.getFieldValue(\"deliveryMethodId\") === 1 ? null :\n            <Form.Item\n              name=\"deliveryAddress\"\n              label=\"Адрес доставки\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Введите адрес',\n                  whitespace: true,\n                },\n              ]}\n            >\n              <Input/>\n            </Form.Item>\n        }}\n      </Form.Item>\n      <Form.Item\n        name=\"contactNumber\"\n        label=\"Контактный номер\"\n        rules={[\n          {\n            required: true,\n            message: 'Номер должен состоять из 9 цифр',\n            ...(validatePhone ? { len: 9 } : {})\n          },\n        ]}\n      >\n        <Input\n          addonBefore=\"+375\"\n          style={{\n            width: '100%',\n          }}\n        />\n      </Form.Item>\n      <Form.Item\n        name=\"contactName\"\n        label=\"Имя\"\n        rules={[\n          {\n            required: true,\n            message: 'Укажите имя',\n          },\n        ]}\n      >\n        <Input/>\n      </Form.Item>\n      <Form.Item shouldUpdate noStyle>\n        {() => {\n          return form.getFieldValue(\"deliveryMethodId\") === 1 ? null :\n            <>\n              <Form.Item\n                name=\"contactSurname\"\n                label=\"Фамилия\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Введите фамилию',\n                    whitespace: true,\n                  },\n                ]}\n              >\n                <Input/>\n              </Form.Item>\n              <Form.Item\n                name=\"contactPatronymic\"\n                label=\"Отчество\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Введите отчество',\n                    whitespace: true,\n                  },\n                ]}\n              >\n                <Input/>\n              </Form.Item>\n            </>\n        }}\n      </Form.Item>\n    </>\n  );\n};\n\nexport default OrderFields;","import React, { useState, useEffect } from 'react';\nimport {\n  Form,\n  Select,\n  Button,\n  Radio,\n  Row,\n  Col,\n  notification,\n  Input,\n  Spin\n} from 'antd';\nimport { debounce } from \"throttle-debounce\";\nimport request from \"../../../../../utils/request\";\nimport { Link } from \"react-router-dom\";\nimport useAuth from \"../../../../../hooks/useAuth\";\nimport Products from \"./components/products/Products\";\nimport CustomerFields from \"./components/customer-fields/CustomerFields\";\nimport OrderFields from \"./components/order-fields/OrderFields\";\n\nconst { Option } = Select;\n\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nconst OrderForm = ({ order = {}, onSuccess }) => {\n  const [form] = Form.useForm();\n  const [customers, setCustomers] = useState({ data: [] });\n  const [customersLoading, setCustomersLoading] = useState(false);\n  const [statuses, setStatuses] = useState([]);\n  const [statusesLoading, setStatusesLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [usersLoading, setUsersLoading] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [customerRadio, setCustomerRadio] = useState(1);\n  const isEdit = !!(order.id);\n  const [user] = useAuth();\n\n  const fetchCustomers = (searchTerm = \"\") => {\n    setCustomersLoading(true);\n    request.get(\"/customers\", { params: { page: 1, size: 10, search: searchTerm } }).then(res => {\n      setCustomers(res.data);\n    }).catch(() => {\n      notification.error({ message: \"Не удалось загрузить заказчиков\" })\n    }).finally(() => {\n      setCustomersLoading(false);\n    })\n  }\n\n  useEffect(() => {\n    fetchCustomers();\n\n    setStatusesLoading(true);\n    request.get(\"/order_statuses\").then(res => {\n      setStatuses(res.data);\n    }).catch(() => {\n      notification.error({ message: \"Не удалось загрузить статусы\" })\n    }).finally(() => {\n      setStatusesLoading(false);\n    })\n\n    setUsersLoading(true);\n    request.get(\"/users\").then(res => {\n      setUsers(res.data);\n    }).catch(() => {\n      notification.error({ message: \"Не удалось загрузить юзеров\" })\n    }).finally(() => {\n      setUsersLoading(false);\n    })\n  }, [setCustomers, setCustomersLoading])\n\n  const onCustomerRadioChange = e => {\n    setCustomerRadio(e.target.value);\n  };\n\n  const initialProducts = (order.products || []).map(product => ({\n    id: product.id,\n    quantity: product.order_product.quantity\n  }));\n\n  const onFinish = (values) => {\n    const errors = [];\n\n    if (isEdit) {\n      const productsIds = values.products.map(pr => pr.id);\n      const deletedProducts = initialProducts.reduce((result, product) => {\n        if (!productsIds.includes(product.id)) {\n          result.push({ ...product, _destroy: true });\n        }\n        return result\n      }, []);\n      values.products = values.products.concat(deletedProducts);\n    }\n\n    if (!isEdit && (!values.products || !values.products.length)) {\n      errors.push(\"Не выбраны товары\")\n    }\n\n    if (errors.length) {\n      notification.error({ message: errors.join(\". \") })\n    } else {\n      setLoading(true);\n\n      (isEdit ? request.put(`/orders/${order.id}`, values) : request.post(\"/orders\", values))\n        .then(\n          (response) => {\n            notification.success({\n              message: isEdit ?\n                \"Изменения сохранены\" :\n                \"Заказ добавлен\"\n            })\n            if (onSuccess) {\n              onSuccess(response.data);\n            }\n          },\n          () => {\n            notification.error({ message: \"Не удалось сохранить данные заказа\" });\n          }\n        ).finally(() => {\n        setLoading(false);\n      })\n    }\n  };\n\n  return (\n    <>\n      {isEdit && <div className=\"table-controls\"><Link to={`/orders/${order.id}`}><Button\n        type=\"primary\">Просмотр</Button></Link></div>}\n      <Form\n        layout=\"vertical\"\n        form={form}\n        name=\"order\"\n        onFinish={onFinish}\n        initialValues={isEdit ? {\n          deliveryMethodId: order.deliveryMethodId,\n          deliveryAddress: order.deliveryAddress,\n          contactNumber: order.contactNumber,\n          contactName: order.contactName,\n          contactSurname: order.contactSurname,\n          contactPatronymic: order.contactPatronymic,\n          notes: order.notes,\n          orderStatusId: order.orderStatusId,\n          userId: order.userId,\n          products: initialProducts\n        } : {\n          deliveryMethodId: 1,\n          orderStatusId: 1,\n          products: [{ id: null, quantity: 1 }]\n        }}\n        scrollToFirstError\n        style={{ maxWidth: 750, margin: \"0 auto\" }}\n      >\n        <Products form={form}/>\n        <div style={{ marginBottom: \"50px\" }}>\n          <OrderFields form={form}/>\n          <Form.Item\n            name=\"notes\"\n            label=\"Дополнительные условия и пожелания\"\n          >\n            <Input.TextArea/>\n          </Form.Item>\n          <Form.Item\n            name=\"orderStatusId\"\n            label=\"Статус\"\n            rules={[\n              {\n                required: true,\n                message: 'Укажите статус'\n              },\n            ]}\n          >\n            <Select loading={statusesLoading}>\n              {statuses.map(status =>\n                <Option\n                  key={status.id}\n                  value={status.id}>{status.name}\n                </Option>)}\n            </Select>\n          </Form.Item>\n          <Form.Item\n            shouldUpdate\n            label=\"Ответственный\"\n          >\n            {() => (\n              <Row gutter={24}>\n                <Col span={18}>\n                  <Form.Item\n                    name=\"userId\"\n                    noStyle\n                  >\n                    <Select loading={usersLoading}>\n                      {users.map(user =>\n                        <Option\n                          key={user.id}\n                          value={user.id}>{`${user.fullName || \"\"} ${user.email}, ${user.username}`}\n                        </Option>)}\n                    </Select>\n                  </Form.Item>\n                </Col>\n                {form.getFieldValue(\"userId\") === user.id ? null :\n                  <Col span={6}>\n                    <Button type=\"primary\" onClick={() => {\n                      form.setFieldsValue({ userId: user.id })\n                    }}>\n                      Назначить меня\n                    </Button>\n                  </Col>\n                }\n              </Row>\n            )}\n          </Form.Item>\n        </div>\n        {isEdit ? null :\n          <>\n            <Form.Item label=\"Заказчик\">\n              <Radio.Group onChange={onCustomerRadioChange} value={customerRadio}>\n                <Radio value={1}>Добавить нового заказчика</Radio>\n                <Radio value={2}>Выбрать существующего</Radio>\n              </Radio.Group>\n            </Form.Item>\n            {customerRadio === 1 ?\n              <CustomerFields/>\n              :\n              <Form.Item\n                name=\"customerId\"\n                label=\"Выберите\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Выберите заказчика'\n                  },\n                ]}\n              >\n                <Select\n                  showSearch\n                  loading={customersLoading}\n                  notFoundContent={customersLoading ? <Spin size=\"small\"/> : null}\n                  placeholder=\"Поиск по Email\"\n                  onSearch={debounce(500, fetchCustomers)}\n                  filterOption={false}\n                >\n                  {customers.data.map(customer =>\n                    <Option\n                      key={customer.id}\n                      value={customer.id}>{`${customer.organizationName}, ${customer.address}, ${customer.email}`}\n                    </Option>)}\n                </Select>\n              </Form.Item>\n            }\n          </>\n        }\n        <Form.Item {...tailFormItemLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n            {isEdit ? \"Сохранить\" : \"Создать\"}\n          </Button>\n        </Form.Item>\n      </Form>\n    </>\n  );\n};\n\nexport default OrderForm;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport OrderForm from \"../form/Form\";\n\nconst CreateOrder = () => {\n  const history = useHistory();\n\n  return (\n    <OrderForm onSuccess={({ id }) => {\n      history.push(`/orders/${id}`);\n    }} />\n  )\n}\n\nexport default CreateOrder;","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport request from \"../../../../../utils/request\";\nimport Spinner from \"../../../../../components/spinner/Spinner\";\nimport OrderForm from \"../form/Form\";\n\nconst EditOrder = () => {\n  const [order, setOrder] = useState();\n  const { id } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    request.get(`/orders/${id}`).then(res => {\n      setOrder(res.data);\n    }).catch(err => {\n      console.log(err);\n    })\n  }, [id])\n\n  return (\n    order ?\n      <OrderForm\n        order={order}\n        onSuccess={({ id }) => {\n          history.push(`/orders/${id}`);\n        }}\n      /> : <Spinner size=\"large\" />\n  )\n}\n\nexport default EditOrder;","import React, { useState, useEffect, Fragment } from \"react\";\nimport { Descriptions, Button } from \"antd\";\nimport { Link, useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport request from \"../../../../../utils/request\";\nimport Spinner from \"../../../../../components/spinner/Spinner\";\nimport StatusTag from \"../../../../../components/status-tag/StatusTag\";\n\nconst ShowOrder = () => {\n  const [order, setOrder] = useState();\n  const { id } = useParams();\n\n  useEffect(() => {\n    request.get(`/orders/${id}`).then(res => {\n      setOrder(res.data);\n    }).catch(err => {\n      console.log(err);\n    })\n  }, [id])\n\n  return (\n    order ?\n      <Descriptions\n        bordered\n        title=\"Информация о заказе\"\n        extra={\n          <Link to={`/orders/${id}/edit`}><Button\n            type=\"primary\">Редактировать</Button></Link>}\n      >\n        <Descriptions.Item label=\"Предмет заказа\">{(order.products || []).map(product => (\n          <Fragment key={product.id}>\n            {product.name} ({product.order_product.quantity} шт)\n            <br/>\n          </Fragment>\n        ))}</Descriptions.Item>\n        <Descriptions.Item label=\"Создан\">{moment(order.createdAt).format('D MMMM YYYY, HH:mm')}</Descriptions.Item>\n        <Descriptions.Item\n          label=\"Контактное лицо\">{order.contactSurname} {order.contactName} {order.contactPatronymic} {`+375${order.contactNumber}`}</Descriptions.Item>\n        <Descriptions.Item label=\"Способ доставки\">{order.deliveryMethod.name}</Descriptions.Item>\n        {order.deliveryAddress && <Descriptions.Item label=\"Адрес доставки\">{order.deliveryAddress}</Descriptions.Item>}\n        {order.notes && <Descriptions.Item label=\"Доп. комментарии\">{order.notes}</Descriptions.Item>}\n        <Descriptions.Item label=\"Статус\"><StatusTag {...order.orderStatus} /></Descriptions.Item>\n        <Descriptions.Item label=\"Ответственный\">\n          {order.user ?\n            <>\n              {order.user.fullName &&\n              <>\n                {order.user.fullName}\n                <br/>\n              </>\n              }\n              {order.user.username}\n              <br/>\n              {order.user.email}\n              <br/>\n            </> :\n            \"Не назначен\"\n          }\n        </Descriptions.Item>\n        <Descriptions.Item label=\"Заказчик\">\n          <Link to={`/customers/${order.customer.id}`}>\n            {order.customer.organizationName}\n            <br/>\n            {order.customer.email}\n            <br/>\n            {order.customer.address}\n            <br/>\n            {order.customer.bankName} ({order.customer.bankAccountNumber})\n            <br/>\n            УНП: {order.customer.payerAccountNumber}\n          </Link>\n        </Descriptions.Item>\n      </Descriptions> : <Spinner size=\"large\"/>\n  )\n}\n\nexport default ShowOrder;","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { Table, Space, Button, notification, Input, Pagination } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { debounce } from \"throttle-debounce\";\nimport request from \"../../../../utils/request\";\nimport DeleteAction from \"../../../../components/delete-action/DeleteAction\";\n\nconst Customers = () => {\n  const [loading, setLoading] = useState(false);\n  const [customers, setCustomers] = useState([]);\n  const [params, setParams] = useState({ page: 1, size: 10 });\n\n  const updateParams = (data) => {\n    setParams(prevParams => ({ ...prevParams, ...data }));\n  }\n\n  const fetchCustomers = useCallback(() => {\n    setLoading(true);\n    request.get(\"/customers\", { params }).then(res => {\n      setCustomers(res.data);\n    }).catch(() => {\n      notification.error({ message: \"Не удалось загрузить заказчиков\" })\n    }).finally(() => {\n      setLoading(false);\n    })\n  }, [setLoading, setCustomers, params])\n\n  const columns = useMemo(() => [\n    {\n      title: 'Название организации',\n      dataIndex: 'organizationName',\n    },\n    {\n      title: 'Email',\n      dataIndex: 'email',\n    },\n    {\n      title: 'Количество заказов',\n      dataIndex: [\"orders\", \"length\"],\n    },\n    {\n      title: '',\n      key: 'action',\n      render: (text, record) => (\n        <Space size=\"middle\">\n          <DeleteAction\n            url={`/customers/${record.id}`}\n            onSuccess={fetchCustomers}\n            successMessage=\"Заказчик был успешно удалён\"\n            errorMessage=\"Не удалось удалить заказчика\"\n          />\n          <Link to={`/customers/${record.id}/edit`}><Button\n            size=\"small\">Редактировать</Button></Link>\n          <Link to={`/customers/${record.id}`}><Button\n            size=\"small\">Детали</Button></Link>\n        </Space>\n      ),\n    },\n  ], [fetchCustomers]);\n\n  useEffect(() => {\n    fetchCustomers();\n  }, [fetchCustomers])\n\n  const search = debounce(500, function (e) {\n    updateParams({ search: e.target.value, page: 1, size: 10 })\n  })\n\n  return (\n    <>\n      <div className=\"table-controls\">\n        <Link to=\"/customers/new\">\n          <Button className=\"green-button\" type=\"primary\">Добавить</Button>\n        </Link>\n      </div>\n      <div className=\"table-filters\">\n        <Input\n          style={{ width: 300 }}\n          onChange={search}\n          placeholder=\"Поиск\"\n        />\n      </div>\n      <Table columns={columns} dataSource={customers.data} rowKey=\"id\" loading={loading} pagination={false}/>\n      <div className=\"pagination\">\n        <Pagination\n          total={customers.totalItems}\n          current={params.page}\n          defaultPageSize={params.size}\n          onChange={page => {\n            updateParams({ page });\n          }}\n        />\n      </div>\n    </>\n  )\n};\n\nexport default Customers","import React, { useState, useEffect, useCallback } from \"react\";\nimport { Descriptions, Button } from \"antd\";\nimport { Link, useParams } from \"react-router-dom\";\nimport request from \"../../../../../utils/request\";\nimport Spinner from \"../../../../../components/spinner/Spinner\";\nimport OrdersList from \"../../orders/list/List\";\n\nconst ShowCustomer = () => {\n  const [customer, setCustomer] = useState();\n  const { id } = useParams();\n\n  const fetchCustomer = useCallback(() => {\n    request.get(`/customers/${id}`).then(res => {\n      setCustomer(res.data);\n    }).catch(err => {\n      console.log(err);\n    })\n  }, [id, setCustomer])\n\n  useEffect(() => {\n    fetchCustomer();\n  }, [fetchCustomer])\n\n  return (\n    customer ?\n      <>\n        <div style={{ marginBottom: 40 }}>\n          <Descriptions\n            bordered\n            title=\"Информация о заказчике\"\n            extra={\n              <Link to={`/customers/${id}/edit`}><Button\n                type=\"primary\">Редактировать</Button></Link>}\n          >\n            <Descriptions.Item label=\"Название организации\">{customer.organizationName}</Descriptions.Item>\n            <Descriptions.Item label=\"Email\">{customer.email}</Descriptions.Item>\n            <Descriptions.Item label=\"Адрес\">{customer.address}</Descriptions.Item>\n            <Descriptions.Item label=\"Нобер банковского счёта\">{customer.bankAccountNumber}</Descriptions.Item>\n            <Descriptions.Item label=\"Банк\">{customer.bankName}</Descriptions.Item>\n            <Descriptions.Item label=\"УНП\">{customer.payerAccountNumber}</Descriptions.Item>\n          </Descriptions>\n        </div>\n        <h2>Заказы</h2>\n        <OrdersList orders={customer.orders} showCustomer={false} loading={false} fetchOrders={fetchCustomer} />\n      </>\n      : <Spinner size=\"large\"/>\n  )\n}\n\nexport default ShowCustomer;","import React, { useState } from 'react';\nimport {\n  Form,\n  Input,\n  Button,\n  notification\n} from 'antd';\nimport request from \"../../../../../utils/request\";\n\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 16,\n    },\n    sm: {\n      span: 8,\n    },\n  },\n  wrapperCol: {\n    xs: {\n      span: 16,\n    },\n    sm: {\n      span: 8,\n    },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nconst CustomerForm = ({ customer = {}, onSuccess }) => {\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n  const isEdit = !!(customer.id);\n\n  const onFinish = (values) => {\n    setLoading(true);\n    (isEdit ? request.put(`/customers/${customer.id}`, values) : request.post(\"/customers\", values))\n      .then(\n        (response) => {\n          notification.success({\n            message: isEdit ?\n              `Данные заказчика ${response.data.organizationName} были успешно обновлены` :\n              `Добавление заказчика ${response.data.organizationName} прошла успешно`\n          })\n          if (onSuccess) {\n            onSuccess(response.data);\n          }\n        },\n        () => {\n          notification.error({ message: \"Не удалось обновить данные заказчика\" });\n        }\n      ).finally(() => {\n      setLoading(false);\n    })\n  };\n\n  return (\n    <>\n      <Form\n        {...formItemLayout}\n        form={form}\n        name=\"customer\"\n        onFinish={onFinish}\n        initialValues={isEdit ? {\n          email: customer.email,\n          organizationName: customer.organizationName,\n          address: customer.address,\n          bankAccountNumber: customer.bankAccountNumber,\n          bankName: customer.bankName,\n          payerAccountNumber: customer.payerAccountNumber,\n        } : {}}\n        scrollToFirstError\n      >\n        <Form.Item\n          name=\"email\"\n          label=\"Email\"\n          rules={[\n            {\n              type: 'email',\n              message: 'Неправильный E-mail',\n            },\n            {\n              required: true,\n              message: 'Ведите E-mail',\n              whitespace: true,\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          name=\"organizationName\"\n          label=\"Название организации\"\n          rules={[\n            {\n              required: true,\n              message: 'Ведите название организации',\n              whitespace: true,\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          name=\"address\"\n          label=\"Юридический адрес\"\n          rules={[\n            {\n              required: true,\n              message: 'Ведите юридический адрес',\n              whitespace: true,\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          name=\"bankAccountNumber\"\n          label=\"Номер банковского счёта\"\n          rules={[\n            {\n              required: true,\n              message: 'Ведите номер банковского счёта',\n              whitespace: true,\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          name=\"bankName\"\n          label=\"Название банка\"\n          rules={[\n            {\n              required: true,\n              message: 'Ведите название банка',\n              whitespace: true,\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          name=\"payerAccountNumber\"\n          label=\"УНП\"\n          rules={[\n            {\n              required: true,\n              message: 'Ведите УНП (9 цифр)',\n              // whitespace: true,\n              // len: 9\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item {...tailFormItemLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n            {isEdit ? \"Сохранить\" : \"Создать\"}\n          </Button>\n        </Form.Item>\n      </Form>\n    </>\n  );\n};\n\nexport default CustomerForm;","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport request from \"../../../../../utils/request\";\nimport Spinner from \"../../../../../components/spinner/Spinner\";\nimport CustomerForm from \"../form/Form\";\n\nconst EditCustomer = () => {\n  const [customer, setCustomer] = useState();\n  const { id } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    request.get(`/customers/${id}`).then(res => {\n      setCustomer(res.data);\n    }).catch(err => {\n      console.log(err);\n    })\n  }, [id])\n\n  return (\n    customer ?\n      <CustomerForm\n        customer={customer}\n        onSuccess={({ id }) => {\n          history.push(`/customers/${id}`);\n        }}\n      /> : <Spinner size=\"large\" />\n  )\n}\n\nexport default EditCustomer;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport CustomerForm from \"../form/Form\";\n\nconst CreateCustomer = () => {\n  const history = useHistory();\n\n  return (\n    <CustomerForm onSuccess={({ id }) => {\n      history.push(`/customers/${id}`);\n    }}/>\n  )\n}\n\nexport default CreateCustomer;","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { Table, Space, Button, notification } from 'antd';\nimport { Link } from 'react-router-dom';\nimport request from \"../../../../utils/request\";\nimport DeleteAction from \"../../../../components/delete-action/DeleteAction\";\n\nconst Products = () => {\n  const [loading, setLoading] = useState(false);\n  const [products, setProducts] = useState([]);\n\n  const fetchProducts = useCallback(() => {\n    setLoading(true);\n    request.get(\"/products\").then(res => {\n      setProducts(res.data);\n    }).catch(() => {\n      notification.error({ message: \"Не удалось загрузить товары\" })\n    }).finally(() => {\n      setLoading(false);\n    })\n  }, [setLoading, setProducts])\n\n  const columns = useMemo(() => [\n    {\n      title: 'Наименование',\n      dataIndex: 'name',\n    },\n    {\n      title: 'Описание',\n      dataIndex: 'description',\n    },\n    {\n      title: '',\n      key: 'action',\n      render: (text, record) => (\n        <Space size=\"middle\">\n          <DeleteAction\n            url={`/products/${record.id}`}\n            onSuccess={fetchProducts}\n            successMessage=\"Товар был успешно удалён\"\n            errorMessage=\"Не удалось удалить товар\"\n          />\n          <Link to={`/products/${record.id}/edit`}><Button\n            size=\"small\">Редактировать</Button></Link>\n        </Space>\n      ),\n    },\n  ], [fetchProducts]);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts])\n\n  return (\n    <>\n      <div className=\"table-controls\">\n        <Link to=\"/products/new\">\n          <Button className=\"green-button\" type=\"primary\">Добавить</Button>\n        </Link>\n      </div>\n      <Table columns={columns} dataSource={products} rowKey=\"id\" loading={loading}/>\n    </>\n  )\n};\n\nexport default Products","import React, { useState } from 'react';\nimport {\n  Form,\n  Input,\n  Button,\n  notification\n} from 'antd';\nimport request from \"../../../../../utils/request\";\nimport { formItemLayout, tailFormItemLayout } from \"../../../../../config/formLayout\";\n\nconst ProductForm = ({ product = {}, onSuccess }) => {\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n  const isEdit = !!(product.id);\n\n  const onFinish = (values) => {\n    setLoading(true);\n    (isEdit ? request.put(`/products/${product.id}`, values) : request.post(\"/products\", values))\n      .then(\n        (response) => {\n          notification.success({\n            message: isEdit ?\n              `Данные товара ${response.data.name} были успешно обновлены` :\n              `Добавление товара ${response.data.name} прошла успешно`\n          })\n          if (onSuccess) {\n            onSuccess(response.data);\n          }\n        },\n        () => {\n          notification.error({ message: \"Не удалось обновить данные товара\" });\n        }\n      ).finally(() => {\n      setLoading(false);\n    })\n  };\n\n  return (\n    <>\n      <Form\n        {...formItemLayout}\n        form={form}\n        name=\"product\"\n        onFinish={onFinish}\n        initialValues={isEdit ? {\n          name: product.name,\n          description: product.description,\n        } : {}}\n        scrollToFirstError\n      >\n        <Form.Item\n          name=\"name\"\n          label=\"Наименование\"\n          rules={[\n            {\n              required: true,\n              message: 'Ведите наименование',\n              whitespace: true,\n            },\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          name=\"description\"\n          label=\"Описание\"\n        >\n          <Input.TextArea />\n        </Form.Item>\n        <Form.Item {...tailFormItemLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n            {isEdit ? \"Сохранить\" : \"Создать\"}\n          </Button>\n        </Form.Item>\n      </Form>\n    </>\n  );\n};\n\nexport default ProductForm;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ProductForm from \"../form/Form\";\n\nconst CreateProduct = () => {\n  const history = useHistory();\n\n  return (\n    <ProductForm onSuccess={() => {\n      history.push(\"/products\");\n    }}/>\n  )\n}\n\nexport default CreateProduct;","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport request from \"../../../../../utils/request\";\nimport Spinner from \"../../../../../components/spinner/Spinner\";\nimport ProductForm from \"../form/Form\";\n\nconst EditProduct = () => {\n  const [product, setProduct] = useState();\n  const { id } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    request.get(`/products/${id}`).then(res => {\n      setProduct(res.data);\n    }).catch(err => {\n      console.log(err);\n    })\n  }, [id])\n\n  return (\n    product ?\n      <ProductForm\n        product={product}\n        onSuccess={() => {\n          history.push(\"/products\");\n        }}\n      /> : <Spinner size=\"large\" />\n  )\n}\n\nexport default EditProduct;","import React, { useMemo } from 'react';\nimport { Layout, Menu } from 'antd';\nimport { TeamOutlined, MailOutlined, UserOutlined, IdcardFilled, DatabaseOutlined } from '@ant-design/icons';\nimport {\n  Switch,\n  Route,\n  Link,\n  useLocation\n} from \"react-router-dom\";\nimport useAuth from \"../../hooks/useAuth\";\nimport Header from './components/header/Header';\nimport Orders from './components/orders/Orders';\nimport Users from './components/users/Users';\nimport Profile from \"./components/profile/Profile\";\nimport EditUser from \"./components/users/edit/Edit\";\nimport CreateUser from \"./components/users/create/Create\";\nimport CreateOrder from \"./components/orders/create/Create\";\nimport EditOrder from \"./components/orders/edit/Edit\";\nimport ShowOrder from \"./components/orders/show/Show\";\nimport Customers from \"./components/customers/Customers\";\nimport ShowCustomer from \"./components/customers/show/Show\";\nimport EditCustomer from \"./components/customers/edit/Edit\";\nimport CreateCustomer from \"./components/customers/create/Create\";\nimport Products from \"./components/products/Products\";\nimport CreateProduct from \"./components/products/create/Create\";\nimport EditProduct from \"./components/products/edit/Edit\";\n\nconst { Content, Sider } = Layout;\n\nconst routes = [\n  { path: \"/\", component: <Orders/> },\n  { path: \"/orders/new\", component: <CreateOrder/> },\n  { path: \"/orders/:id/edit\", component: <EditOrder/> },\n  { path: \"/orders/:id\", component: <ShowOrder/> },\n  { path: \"/users\", component: <Users/> },\n  { path: \"/users/new\", component: <CreateUser/> },\n  { path: \"/users/:id\", component: <EditUser/> },\n  { path: \"/customers\", component: <Customers/> },\n  { path: \"/customers/new\", component: <CreateCustomer/> },\n  { path: \"/customers/:id\", component: <ShowCustomer/> },\n  { path: \"/customers/:id/edit\", component: <EditCustomer/> },\n  { path: \"/products\", component: <Products/> },\n  { path: \"/products/new\", component: <CreateProduct/> },\n  { path: \"/products/:id/edit\", component: <EditProduct/> },\n  { path: \"/profile\", component: <Profile/> },\n]\n\nconst Admin = () => {\n  const [, , isAdmin] = useAuth();\n  const location = useLocation();\n\n  const selectedMenuItem = useMemo(() => {\n    if (location.pathname.match(\"/users\")) {\n      return \"users\"\n    }\n    if (location.pathname.match(\"/customers\")) {\n      return \"customers\"\n    }\n    if (location.pathname.match(\"/products\")) {\n      return \"products\"\n    }\n    if (location.pathname.match(\"/profile\")) {\n      return \"profile\"\n    }\n    return \"orders\";\n  }, [location.pathname]);\n\n  return (\n    <Layout>\n      <Sider\n        breakpoint=\"lg\"\n        collapsedWidth=\"0\"\n      >\n        <div className=\"logo\">Axiom Admin</div>\n        <Menu theme=\"dark\" mode=\"inline\" selectedKeys={[selectedMenuItem]}>\n          <Menu.Item key=\"orders\" icon={<MailOutlined/>}>\n            <Link to=\"/\">Заказы</Link>\n          </Menu.Item>\n          {isAdmin &&\n          <Menu.Item key=\"users\" icon={<TeamOutlined/>}>\n            <Link to=\"/users\">Пользователи</Link>\n          </Menu.Item>\n          }\n          <Menu.Item key=\"customers\" icon={<IdcardFilled/>}>\n            <Link to=\"/customers\">Заказчики</Link>\n          </Menu.Item>\n          <Menu.Item key=\"products\" icon={<DatabaseOutlined/>}>\n            <Link to=\"/products\">Товары</Link>\n          </Menu.Item>\n          <Menu.Item key=\"profile\" icon={<UserOutlined/>}>\n            <Link to=\"/profile\">Профиль</Link>\n          </Menu.Item>\n        </Menu>\n      </Sider>\n      <Layout>\n        <Header/>\n        <Content style={{ margin: '24px 16px 0' }}>\n          <div className=\"site-layout-background\" style={{ padding: 24 }}>\n            {isAdmin ?\n              <Switch>\n                {routes.map(route => (\n                  <Route key={route.path} exact path={route.path}>\n                    {route.component}\n                  </Route>\n                ))}\n              </Switch>\n              :\n              <Switch>\n                {routes.filter(route => !route.path.match(\"/users\")).map(route => (\n                  <Route key={route.path} exact path={route.path}>\n                    {route.component}\n                  </Route>\n                ))}\n              </Switch>\n            }\n          </div>\n        </Content>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default Admin;","import React, { useState } from 'react';\nimport { Form, Input, Button, notification } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport './Login.css';\nimport request from \"../../utils/request\";\nimport useAuth from \"../../hooks/useAuth\";\n\nconst Login = () => {\n  const [, updateUser] = useAuth();\n  const [loading, setLoading] = useState(false);\n\n  const onFinish = values => {\n    setLoading(true);\n    request\n      .post(\"/auth/signin\", {\n        username: values.username,\n        password: values.password,\n      })\n      .then((response) => {\n        if (response.data.accessToken) {\n          localStorage.setItem(\"token\", response.data.accessToken);\n        }\n        updateUser(response.data);\n      }).catch(() => {\n      notification.error({ message: \"Не удалось выполнить вход\" })\n    }).finally(() => {\n      setLoading(false);\n    })\n  };\n\n  return (\n    <div className=\"login-form-wrapper\">\n      <div className=\"login-form-container\">\n        <Form\n          name=\"normal_login\"\n          className=\"login-form\"\n          initialValues={{ remember: true }}\n          onFinish={onFinish}\n        >\n          <Form.Item\n            name=\"username\"\n            rules={[{ required: true, message: 'Введите логин' }]}\n          >\n            <Input prefix={<UserOutlined className=\"site-form-item-icon\"/>} placeholder=\"Логин\"/>\n          </Form.Item>\n          <Form.Item\n            name=\"password\"\n            rules={[{ required: true, message: 'Введите пароль' }]}\n          >\n            <Input.Password\n              prefix={<LockOutlined className=\"site-form-item-icon\"/>}\n              type=\"password\"\n              placeholder=\"Пароль\"\n            />\n          </Form.Item>\n          <Form.Item>\n            <Button loading={loading} type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n              Войти\n            </Button>\n          </Form.Item>\n        </Form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login","import React, { useState } from 'react';\nimport {\n  Form,\n  Button,\n  notification, Input\n} from 'antd';\nimport request from \"../../utils/request\";\nimport Products from \"../admin/components/orders/form/components/products/Products\";\nimport OrderFields from \"../admin/components/orders/form/components/order-fields/OrderFields\";\nimport CustomerFields from \"../admin/components/orders/form/components/customer-fields/CustomerFields\";\n\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 10,\n    },\n  },\n};\n\nconst OrderForm = () => {\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const onFinish = (values) => {\n    const errors = [];\n\n    if (!values.products || !values.products.length) {\n      errors.push(\"Не выбраны товары\")\n    }\n\n    if (errors.length) {\n      notification.error({ message: errors.join(\". \") })\n    } else {\n      setLoading(true);\n\n      request.post(\"/orders\", values)\n        .then(\n          () => {\n            notification.success({\n              message: \"Заказ отправлен\"\n            })\n            setSuccess(true);\n          },\n          () => {\n            notification.error({ message: \"Не удалось отправить заказ\" });\n          }\n        ).finally(() => {\n        setLoading(false);\n      })\n    }\n  };\n\n  return success ?\n    <div style={{ maxWidth: 750, margin: \"50px auto 30px auto\" }}>\n      <h1>Ваш заказ отправлен!</h1>\n      <h3>Мы свяжемся с вами по возможности. По причине повышенного спроса, связанного с реализацией программы по переходу на использование биометрических документов, оперативно реагировать на все обращения не представляется возможным. Приносим извинения за задержки.</h3>\n    </div> :\n    <>\n      <div style={{ maxWidth: 750, margin: \"50px auto 30px auto\" }}>\n        <h3>Пожалуйста, выберите интересующие вас товары, укажите их количество, заполните все поля помеченные * и\n          нажмите кнопку <b>Отправить</b></h3>\n      </div>\n      <Form\n        layout=\"vertical\"\n        form={form}\n        name=\"order\"\n        onFinish={onFinish}\n        initialValues={{\n          deliveryMethodId: 1,\n          orderStatusId: 1,\n          products: [{ id: null, quantity: 1 }]\n        }}\n        scrollToFirstError\n        style={{ maxWidth: 750, margin: \"0 auto\", paddingBottom: 30 }}\n      >\n        <Products form={form}/>\n        <OrderFields form={form} validatePhone />\n        <CustomerFields/>\n        <Form.Item\n          name=\"notes\"\n          label=\"Дополнительные условия и пожелания\"\n        >\n          <Input.TextArea/>\n        </Form.Item>\n        <Form.Item {...tailFormItemLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" size=\"large\" loading={loading}>\n            Отправить\n          </Button>\n        </Form.Item>\n      </Form>\n    </>\n};\n\nexport default OrderForm;","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Admin from \"./pages/admin/Admin\";\nimport './App.css';\nimport Login from \"./pages/login/Login\";\nimport { selectUser, setUser } from \"./config/authSlice\";\nimport moment from \"moment\";\nimport 'moment/locale/ru';\nimport OrderForm from \"./pages/order-form/OrderForm\";\n\nmoment.locale('ru');\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  const user = useSelector(selectUser);\n\n  useEffect(() => {\n    const userFromStorage = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (userFromStorage) {\n      dispatch(setUser(userFromStorage));\n    }\n  }, [dispatch]);\n\n  return user ?\n    <Admin/>\n    :\n    <Switch>\n      <Route exact path=\"/\">\n        <Login/>\n      </Route>\n      <Route exact path=\"/order_form\">\n        <OrderForm/>\n      </Route>\n    </Switch>;\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport authReducer from './authSlice';\n\nexport default configureStore({\n  reducer: {\n    auth: authReducer,\n  },\n});\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './config/store';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}